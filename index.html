<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTIäººæ ¼æµ‹è¯•</title>
    <script src="config.js"></script>
    <style>
        :root {
            --primary: #5B86E5;
            --secondary: #36D1DC;
            --e-color: #FF6B6B;
            --i-color: #4ECDC4;
            --s-color: #45B7D1;
            --n-color: #96CEB4;
            --t-color: #FFEAA7;
            --f-color: #DDA0DD;
            --j-color: #98D8C8;
            --p-color: #F7DC6F;
            --text: #333333;
            --light-text: #666666;
            --background: #F8F9FA;
            --card: #FFFFFF;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .test-container {
            background-color: var(--card);
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 30px;
            width: 100%;
            max-width: 800px;
            transition: var(--transition);
        }

        @media (max-width: 768px) {
            .test-container {
                padding: 20px;
            }
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
            font-size: 2.5rem;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
        }

        .progress-container {
            margin-bottom: 30px;
        }

        .progress-bar {
            height: 8px;
            background-color: #E9ECEF;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--light-text);
        }

        .question-container {
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease;
        }

        .question-number {
            font-size: 14px;
            color: var(--primary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 25px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .question-text {
                font-size: 1.1rem;
            }
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            padding: 15px 20px;
            border: 2px solid #E9ECEF;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            text-align: center;
        }

        .option:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .option.selected {
            border-color: var(--primary);
            background-color: rgba(91, 134, 229, 0.1);
        }

        .result-container {
            text-align: center;
            animation: slideIn 0.5s ease;
            display: none;
        }

        .result-header {
            margin-bottom: 30px;
        }

        .result-type {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        @media (max-width: 768px) {
            .result-type {
                font-size: 2rem;
            }
        }

        .result-name {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--light-text);
        }

        @media (max-width: 768px) {
            .result-name {
                font-size: 1.2rem;
            }
        }

        .result-description {
            background-color: rgba(0, 0, 0, 0.05);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .result-image {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .restart-button {
            padding: 12px 24px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
        }

        .restart-button:hover {
            background-color: #4A76E1;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .name-input-container {
            text-align: center;
            padding: 40px 20px;
            animation: fadeIn 0.5s ease;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 400px;
            margin: 0 auto;
        }

        .input-group label {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text);
            text-align: left;
        }

        .name-input {
            padding: 12px 16px;
            border: 2px solid #E9ECEF;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .name-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(91, 134, 229, 0.1);
        }

        .start-button {
            padding: 12px 24px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: var(--transition);
        }

        .start-button:hover {
            background-color: #4A76E1;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .start-button:disabled {
            background-color: #CCCCCC;
            cursor: not-allowed;
            transform: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>MBTIäººæ ¼æµ‹è¯•</h1>
        
        <div class="name-input-container" id="nameInputContainer">
            <div class="input-group">
                <label for="userName">è¯·è¾“å…¥æ‚¨çš„å§“åï¼š</label>
                <input type="text" id="userName" class="name-input" placeholder="è¯·è¾“å…¥å§“å">
                <button class="start-button" id="startButton">å¼€å§‹æµ‹è¯•</button>
            </div>
        </div>
        
        <div class="progress-container" id="progressContainer" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">1/12</div>
        </div>
        
        <div class="question-container" id="questionContainer" style="display: none;">
            <!-- é¢˜ç›®å†…å®¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="result-header">
                <div class="result-image" id="resultImage"></div>
                <div class="result-type" id="resultType"></div>
                <div class="result-name" id="resultName"></div>
            </div>
            <div class="result-description" id="resultDescription"></div>
            <button class="restart-button" id="restartButton">é‡æ–°æµ‹è¯•</button>
        </div>
    </div>
    
    <script>
        // MBTIæµ‹è¯•åº”ç”¨
        (function() {
            // é¢˜ç›®æ•°æ®
            const questions = [
                {
                    id: 1,
                    text: "åœ¨ç¤¾äº¤åœºåˆä¸­ï¼Œä½ æ›´å€¾å‘äºï¼š",
                    options: [
                        { text: "A. ä¸»åŠ¨ä¸ä»–äººäº¤æµï¼Œå–œæ¬¢æˆä¸ºç„¦ç‚¹", dimension: "E" },
                        { text: "B. è§‚å¯Ÿå‘¨å›´ç¯å¢ƒï¼Œç­‰å¾…ä»–äººä¸»åŠ¨æ¥è§¦", dimension: "I" }
                    ]
                },
                {
                    id: 2,
                    text: "ä½ æ›´å–œæ¬¢ï¼š",
                    options: [
                        { text: "A. å…·ä½“çš„äº‹å®å’Œç»†èŠ‚", dimension: "S" },
                        { text: "B. æŠ½è±¡çš„æ¦‚å¿µå’Œå¯èƒ½æ€§", dimension: "N" }
                    ]
                },
                {
                    id: 3,
                    text: "åšå†³å®šæ—¶ï¼Œä½ æ›´æ³¨é‡ï¼š",
                    options: [
                        { text: "A. é€»è¾‘åˆ†æå’Œå®¢è§‚äº‹å®", dimension: "T" },
                        { text: "B. ä¸ªäººä»·å€¼è§‚å’Œä»–äººæ„Ÿå—", dimension: "F" }
                    ]
                },
                {
                    id: 4,
                    text: "ä½ æ›´å€¾å‘äºï¼š",
                    options: [
                        { text: "A. æœ‰è®¡åˆ’ã€æœ‰æ¡ç†çš„ç”Ÿæ´»", dimension: "J" },
                        { text: "B. çµæ´»ã€éšæ„çš„ç”Ÿæ´»æ–¹å¼", dimension: "P" }
                    ]
                },
                {
                    id: 5,
                    text: "åœ¨å›¢é˜Ÿä¸­ï¼Œä½ æ›´å–œæ¬¢ï¼š",
                    options: [
                        { text: "A. ä¸ä»–äººåˆä½œå®Œæˆä»»åŠ¡", dimension: "E" },
                        { text: "B. ç‹¬ç«‹å·¥ä½œï¼Œä¸“æ³¨äºè‡ªå·±çš„ä»»åŠ¡", dimension: "I" }
                    ]
                },
                {
                    id: 6,
                    text: "å­¦ä¹ æ–°äº‹ç‰©æ—¶ï¼Œä½ æ›´å…³æ³¨ï¼š",
                    options: [
                        { text: "A. å®é™…åº”ç”¨å’Œå…·ä½“æŠ€å·§", dimension: "S" },
                        { text: "B. ç†è®ºæ¡†æ¶å’Œæ½œåœ¨æ„ä¹‰", dimension: "N" }
                    ]
                },
                {
                    id: 7,
                    text: "é¢å¯¹å†²çªæ—¶ï¼Œä½ æ›´å€¾å‘äºï¼š",
                    options: [
                        { text: "A. ç›´æ¥è§£å†³é—®é¢˜ï¼Œå¼ºè°ƒç†æ€§", dimension: "T" },
                        { text: "B. æ³¨é‡å’Œè°ï¼Œè€ƒè™‘ä»–äººæ„Ÿå—", dimension: "F" }
                    ]
                },
                {
                    id: 8,
                    text: "å¯¹äºæœªå®Œæˆçš„ä»»åŠ¡ï¼Œä½ ä¼šï¼š",
                    options: [
                        { text: "A. å°½å¿«å®Œæˆï¼Œé¿å…æ‹–å»¶", dimension: "J" },
                        { text: "B. çµæ´»å®‰æ’æ—¶é—´ï¼Œç›´åˆ°æœ€åæœŸé™", dimension: "P" }
                    ]
                },
                {
                    id: 9,
                    text: "ä½ æ›´å–œæ¬¢ï¼š",
                    options: [
                        { text: "A. ä¸äººç›¸å¤„çš„æ—¶é—´", dimension: "E" },
                        { text: "B. ç‹¬è‡ªæ€è€ƒçš„æ—¶é—´", dimension: "I" }
                    ]
                },
                {
                    id: 10,
                    text: "ä½ å¯¹æœªæ¥çš„æ€åº¦æ˜¯ï¼š",
                    options: [
                        { text: "A. æ³¨é‡ç°å®ï¼Œä¸€æ­¥ä¸€ä¸ªè„šå°", dimension: "S" },
                        { text: "B. å……æ»¡æƒ³è±¡ï¼ŒæœŸå¾…å„ç§å¯èƒ½æ€§", dimension: "N" }
                    ]
                },
                {
                    id: 11,
                    text: "è¯„ä»·ä»–äººæ—¶ï¼Œä½ æ›´çœ‹é‡ï¼š",
                    options: [
                        { text: "A. èƒ½åŠ›å’Œæˆå°±", dimension: "T" },
                        { text: "B. å“å¾·å’Œäººé™…å…³ç³»", dimension: "F" }
                    ]
                },
                {
                    id: 12,
                    text: "ä½ çš„ç”Ÿæ´»æ–¹å¼æ›´å€¾å‘äºï¼š",
                    options: [
                        { text: "A. æœ‰è§„å¾‹ã€æœ‰è®¡åˆ’", dimension: "J" },
                        { text: "B. éšé‡è€Œå®‰ã€çµæ´»åº”å˜", dimension: "P" }
                    ]
                }
            ];

            // MBTIç±»å‹æ•°æ®
            const mbtiTypes = {
                ISTJ: {
                    name: "ç‰©æµå¸ˆå‹",
                    color: "#4ECDC4",
                    description: "å®‰é™ã€ä¸¥è‚ƒï¼Œé€šè¿‡å…¨é¢æ€§å’Œå¯é æ€§è·å¾—æˆåŠŸã€‚å®é™…ï¼Œæœ‰è´£ä»»æ„Ÿï¼Œå†³å®šæœ‰é€»è¾‘æ€§ï¼Œå¹¶ä¸€æ­¥æ­¥åœ°æœç€ç›®æ ‡å‰è¿›ï¼Œä¸æ˜“åˆ†å¿ƒã€‚é‡è§†ä¼ ç»Ÿå’Œå¿ è¯šã€‚",
                    emoji: "ğŸ“‹"
                },
                ISFJ: {
                    name: "å®ˆå«è€…å‹",
                    color: "#45B7D1",
                    description: "å®‰é™ã€å‹å¥½ã€æœ‰è´£ä»»æ„Ÿå’Œè‰¯çŸ¥ã€‚åšå®šåœ°è‡´åŠ›äºå®Œæˆä»–ä»¬çš„ä¹‰åŠ¡ã€‚å…¨é¢ã€å‹¤å‹‰ã€ç²¾ç¡®ï¼Œå¿ è¯šã€ä½“è´´ï¼Œç•™å¿ƒå’Œè®°å¾—å…³äºä»–äººçš„ç»†èŠ‚ã€‚",
                    emoji: "ğŸ›¡ï¸"
                },
                INFJ: {
                    name: "æå€¡è€…å‹",
                    color: "#96CEB4",
                    description: "å¯»æ±‚æ€æƒ³ã€å…³ç³»ã€ç‰©è´¨ç­‰ä¹‹é—´çš„æ„ä¹‰å’Œè”ç³»ã€‚å¸Œæœ›äº†è§£ä»€ä¹ˆèƒ½å¤Ÿæ¿€åŠ±äººï¼Œå¯¹äººæœ‰å¾ˆå¼ºçš„æ´å¯ŸåŠ›ã€‚æœ‰è´£ä»»å¿ƒï¼ŒåšæŒè‡ªå·±çš„ä»·å€¼è§‚ã€‚",
                    emoji: "ğŸŒŸ"
                },
                INTJ: {
                    name: "å»ºç­‘å¸ˆå‹",
                    color: "#FFEAA7",
                    description: "å…·æœ‰åˆ›é€ æ€§çš„æ€æƒ³å’Œå¼ºçƒˆçš„å†…é©±åŠ›ï¼Œé€šå¸¸åªä¸“æ³¨äºå¾ˆå°‘çš„å…´è¶£ç‚¹ï¼Œä½†å¯ä»¥æ·±å…¥è€Œæ‰§ç€ã€‚æ€€ç–‘ã€æŒ‘å‰”ã€ç‹¬ç«‹ï¼Œå¯¹äºè‡ªå·±å’Œä»–äººçš„èƒ½åŠ›å’Œè¡¨ç°è¦æ±‚å¾ˆé«˜ã€‚",
                    emoji: "ğŸ—ï¸"
                },
                ISTP: {
                    name: "é‰´èµå®¶å‹",
                    color: "#F7DC6F",
                    description: "çµæ´»ã€å¿è€åŠ›å¼ºï¼Œæ˜¯ä¸ªå®‰é™çš„è§‚å¯Ÿè€…ç›´åˆ°æœ‰é—®é¢˜å‘ç”Ÿï¼Œå°±ä¼šé©¬ä¸Šè¡ŒåŠ¨ï¼Œæ‰¾åˆ°å®ç”¨çš„è§£å†³æ–¹æ³•ã€‚åˆ†æäº‹ç‰©è¿ä½œçš„åŸç†ï¼Œèƒ½ä»å¤§é‡çš„ä¿¡æ¯ä¸­å¾ˆå¿«åœ°æ‰¾åˆ°å…³é”®çš„ç—‡ç»“æ‰€åœ¨ã€‚",
                    emoji: "ğŸ”§"
                },
                ISFP: {
                    name: "æ¢é™©å®¶å‹",
                    color: "#DDA0DD",
                    description: "å®‰é™ã€å‹å¥½ã€æ•æ„Ÿã€å’Œå–„ã€‚äº«å—å½“å‰çš„æ—¶åˆ»ï¼Œå–œæ¬¢æœ‰è‡ªå·±çš„ç©ºé—´ï¼Œå–œæ¬¢å¤„ç†å®é™…çš„äº‹æƒ…ã€‚å¿ äºè‡ªå·±çš„ä»·å€¼è§‚ï¼Œå¿ äºè‡ªå·±æ‰€é‡è§†çš„äººã€‚",
                    emoji: "ğŸ¨"
                },
                INFP: {
                    name: "è°ƒåœè€…å‹",
                    color: "#FF6B6B",
                    description: "ç†æƒ³ä¸»ä¹‰è€…ï¼Œå¿ äºè‡ªå·±çš„ä»·å€¼è§‚åŠè‡ªå·±æ‰€é‡è§†çš„äººã€‚å¤–åœ¨çš„ç”Ÿæ´»ä¸å†…åœ¨çš„ä»·å€¼è§‚é…åˆï¼Œæœ‰å¥½å¥‡å¿ƒï¼Œå¾ˆå¿«çœ‹åˆ°äº‹æƒ…çš„å¯èƒ½ä¸å¦ï¼Œèƒ½å¤ŸåŠ é€Ÿå¯¹ç†å¿µçš„å®è·µã€‚",
                    emoji: "ğŸ•Šï¸"
                },
                INTP: {
                    name: "é€»è¾‘å­¦å®¶å‹",
                    color: "#36D1DC",
                    description: "å¯¹ä»»ä½•æ„Ÿå…´è¶£çš„äº‹ç‰©ï¼Œéƒ½è¦æ¢ç´¢ä¸€ä¸ªåˆç†çš„è§£é‡Šã€‚å–œæ¬¢ç†è®ºå’ŒæŠ½è±¡çš„äº‹æƒ…ï¼Œå–œæ¬¢ç†å¿µæ€ç»´å¤šäºç¤¾äº¤æ´»åŠ¨ã€‚å®‰é™ã€å†…å‘ã€çµæ´»ã€é€‚åº”åŠ›å¼ºã€‚",
                    emoji: "ğŸ§ "
                },
                ESTP: {
                    name: "ä¼ä¸šå®¶å‹",
                    color: "#FF6B6B",
                    description: "çµæ´»ã€å¿è€åŠ›å¼ºï¼Œå®é™…ï¼Œæ³¨é‡ç»“æœã€‚è®¤ä¸ºç†è®ºå’ŒæŠ½è±¡çš„è§£é‡Šéå¸¸æ— è¶£ã€‚å–œæ¬¢ç§¯æåœ°é‡‡å–è¡ŒåŠ¨è§£å†³é—®é¢˜ã€‚æ³¨é‡å½“å‰ï¼Œè‡ªç„¶ä¸åšä½œï¼Œäº«å—å’Œä»–äººåœ¨ä¸€èµ·çš„æ—¶åˆ»ã€‚",
                    emoji: "ğŸš€"
                },
                ESFP: {
                    name: "è¡¨æ¼”è€…å‹",
                    color: "#F7DC6F",
                    description: "å¤–å‘ã€å‹å¥½ã€æ¥å—åŠ›å¼ºã€‚çƒ­çˆ±ç”Ÿæ´»ã€äººç±»å’Œç‰©è´¨ä¸Šçš„äº«å—ã€‚å–œæ¬¢å’Œåˆ«äººä¸€èµ·å°†äº‹æƒ…åšæˆåŠŸã€‚åœ¨å·¥ä½œä¸­è®²ç©¶å¸¸è¯†å’Œå®ç”¨æ€§ï¼Œå¹¶ä½¿å·¥ä½œæ˜¾å¾—æœ‰è¶£ã€‚",
                    emoji: "ğŸ­"
                },
                ENFP: {
                    name: "ç«é€‰è€…å‹",
                    color: "#96CEB4",
                    description: "çƒ­æƒ…æ´‹æº¢ã€å¯Œæœ‰æƒ³è±¡åŠ›ã€‚è®¤ä¸ºäººç”Ÿæœ‰å¾ˆå¤šçš„å¯èƒ½æ€§ã€‚èƒ½å¾ˆå¿«åœ°å°†äº‹æƒ…å’Œä¿¡æ¯è”ç³»èµ·æ¥ï¼Œç„¶åå¾ˆè‡ªä¿¡åœ°æ ¹æ®è‡ªå·±çš„åˆ¤æ–­è§£å†³é—®é¢˜ã€‚æ€»æ˜¯éœ€è¦å¾—åˆ°åˆ«äººçš„è®¤å¯ï¼Œä¹Ÿæ€»æ˜¯å‡†å¤‡ç€ç»™ä¸ä»–äººèµè¯†å’Œå¸®åŠ©ã€‚",
                    emoji: "ğŸŒˆ"
                },
                ENTP: {
                    name: "è¾©è®ºå®¶å‹",
                    color: "#36D1DC",
                    description: "ååº”å¿«ã€ç¿æ™ºï¼Œæœ‰æ¿€åŠ±åˆ«äººçš„èƒ½åŠ›ï¼Œè­¦è§‰æ€§å¼ºã€ç›´è¨€ä¸è®³ã€‚åœ¨è§£å†³æ–°çš„ã€å…·æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜æ—¶æœºæ™ºè€Œæœ‰ç­–ç•¥ã€‚å–„äºæ‰¾å‡ºç†è®ºä¸Šçš„å¯èƒ½æ€§ï¼Œç„¶åå†ç”¨æˆ˜ç•¥çš„çœ¼å…‰åˆ†æã€‚",
                    emoji: "ğŸ’¬"
                },
                ESTJ: {
                    name: "æ€»ç»ç†å‹",
                    color: "#4ECDC4",
                    description: "å®é™…ã€ç°å®ä¸»ä¹‰ã€‚æœæ–­ï¼Œä¸€æ—¦ä¸‹å†³å¿ƒå°±ä¼šé©¬ä¸Šè¡ŒåŠ¨ã€‚å–„äºå°†é¡¹ç›®å’Œäººç»„ç»‡èµ·æ¥å°†äº‹æƒ…å®Œæˆï¼Œå¹¶å°½å¯èƒ½ä»¥æœ€æœ‰æ•ˆç‡çš„æ–¹æ³•è¾¾åˆ°ç›®çš„ã€‚æ³¨é‡æ—¥å¸¸çš„ç»†èŠ‚ã€‚",
                    emoji: "ğŸ’¼"
                },
                ESFJ: {
                    name: "æ‰§æ”¿å®˜å‹",
                    color: "#45B7D1",
                    description: "çƒ­å¿ƒã€æœ‰è´£ä»»å¿ƒï¼Œåˆä½œã€‚å¸Œæœ›å‘¨è¾¹çš„ç¯å¢ƒæ¸©é¦¨è€Œå’Œè°ï¼Œå¹¶ä¸ºæ­¤æœæ–­åœ°æ‰§è¡Œå¿…è¦çš„è¡ŒåŠ¨ã€‚å–œæ¬¢å’Œä»–äººä¸€èµ·ç²¾ç¡®å¹¶åŠæ—¶åœ°å®Œæˆä»»åŠ¡ã€‚",
                    emoji: "ğŸ‘‘"
                },
                ENFJ: {
                    name: "ä¸»äººå…¬å‹",
                    color: "#96CEB4",
                    description: "çƒ­æƒ…ã€ä¸ºä»–äººç€æƒ³ã€æ˜“æ„Ÿåº”ã€æœ‰è´£ä»»å¿ƒã€‚éå¸¸æ³¨é‡ä»–äººçš„æ„Ÿæƒ…ã€éœ€æ±‚å’ŒåŠ¨æœºã€‚å–„äºå‘ç°ä»–äººçš„æ½œèƒ½ï¼Œå¹¶å¸Œæœ›èƒ½å¸®åŠ©ä»–ä»¬å®ç°ã€‚æ˜¯ä¸ªä½“å’Œå›¢é˜Ÿæˆé•¿å’Œè¿›æ­¥çš„å‚¬åŒ–å‰‚ã€‚",
                    emoji: "ğŸ”¥"
                },
                ENTJ: {
                    name: "æŒ‡æŒ¥å®˜å‹",
                    color: "#FFEAA7",
                    description: "å¦è¯šã€æœæ–­ï¼Œæœ‰å¤©ç”Ÿçš„é¢†å¯¼èƒ½åŠ›ã€‚èƒ½å¾ˆå¿«çœ‹åˆ°å…¬å¸/ç»„ç»‡ç¨‹åºå’Œæ”¿ç­–ä¸­çš„ä¸åˆç†æ€§å’Œä½æ•ˆèƒ½æ€§ï¼Œå‘å±•å¹¶å®æ–½æœ‰æ•ˆå’Œå…¨é¢çš„ç³»ç»Ÿæ¥è§£å†³é—®é¢˜ã€‚å–„äºåšé•¿æœŸçš„è®¡åˆ’å’Œç›®æ ‡çš„è®¾å®šã€‚",
                    emoji: "ğŸ¯"
                }
            };

            // åº”ç”¨çŠ¶æ€
            let currentQuestionIndex = 0;
            let answers = [];
            let userName = '';
            
            // DOMå…ƒç´ ç¼“å­˜
            const elements = {
                nameInputContainer: document.getElementById('nameInputContainer'),
                progressContainer: document.getElementById('progressContainer'),
                questionContainer: document.getElementById('questionContainer'),
                resultContainer: document.getElementById('resultContainer'),
                progressFill: document.getElementById('progressFill'),
                progressText: document.getElementById('progressText'),
                restartButton: document.getElementById('restartButton'),
                resultType: document.getElementById('resultType'),
                resultName: document.getElementById('resultName'),
                resultDescription: document.getElementById('resultDescription'),
                resultImage: document.getElementById('resultImage'),
                userNameInput: document.getElementById('userName'),
                startButton: document.getElementById('startButton')
            };
            
            // åˆå§‹åŒ–åº”ç”¨
            function initApp() {
                // ç»‘å®šå¼€å§‹æŒ‰é’®äº‹ä»¶
                elements.startButton.addEventListener('click', handleStartTest);
                
                // ç»‘å®šé‡æ–°å¼€å§‹æŒ‰é’®äº‹ä»¶
                elements.restartButton.addEventListener('click', initTest);
                
                // ç»‘å®šå§“åè¾“å…¥å›è½¦äº‹ä»¶
                elements.userNameInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        handleStartTest();
                    }
                });
            }
            
            // å¤„ç†å¼€å§‹æµ‹è¯•
            function handleStartTest() {
                userName = elements.userNameInput.value.trim();
                if (!userName) {
                    alert('è¯·è¾“å…¥æ‚¨çš„å§“å');
                    return;
                }
                
                elements.nameInputContainer.style.display = 'none';
                initTest();
            }
            
            // åˆå§‹åŒ–æµ‹è¯•
            function initTest() {
                currentQuestionIndex = 0;
                answers = [];
                showQuestion(currentQuestionIndex);
                updateProgress();
                elements.progressContainer.style.display = 'block';
                elements.questionContainer.style.display = 'block';
                elements.resultContainer.style.display = 'none';
            }
            
            // æ˜¾ç¤ºé¢˜ç›®
            function showQuestion(index) {
                const question = questions[index];
                
                // åˆ›å»ºé¢˜ç›®å…ƒç´ 
                const questionHTML = `
                    <div class="question-number">é—®é¢˜ ${question.id}/12</div>
                    <div class="question-text">${question.text}</div>
                    <div class="options-container">
                        ${question.options.map((option) => `
                            <div class="option" data-dimension="${option.dimension}">
                                ${option.text}
                            </div>
                        `).join('')}
                    </div>
                `;
                
                // æ·»åŠ æ·¡å…¥åŠ¨ç”»
                elements.questionContainer.style.opacity = '0';
                setTimeout(() => {
                    elements.questionContainer.innerHTML = questionHTML;
                    elements.questionContainer.style.opacity = '1';
                    
                    // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
                    bindOptionEvents();
                }, 200);
            }
            
            // ç»‘å®šé€‰é¡¹ç‚¹å‡»äº‹ä»¶
            function bindOptionEvents() {
                const options = elements.questionContainer.querySelectorAll('.option');
                options.forEach(option => {
                    option.addEventListener('click', handleOptionClick);
                });
            }
            
            // å¤„ç†é€‰é¡¹ç‚¹å‡»
            function handleOptionClick(event) {
                const option = event.target;
                const selectedDimension = option.dataset.dimension;
                answers.push(selectedDimension);
                
                // æ ‡è®°é€‰ä¸­çŠ¶æ€
                const options = elements.questionContainer.querySelectorAll('.option');
                options.forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                
                // å»¶è¿Ÿåˆ‡æ¢åˆ°ä¸‹ä¸€é¢˜
                setTimeout(() => {
                    if (currentQuestionIndex < questions.length - 1) {
                        currentQuestionIndex++;
                        showQuestion(currentQuestionIndex);
                        updateProgress();
                    } else {
                        showResult();
                    }
                }, 500);
            }
            
            // æ›´æ–°è¿›åº¦æ¡
            function updateProgress() {
                const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
                elements.progressFill.style.width = `${progress}%`;
                elements.progressText.textContent = `${currentQuestionIndex + 1}/${questions.length}`;
            }
            
            // è®¡ç®—ç»“æœ
            function calculateResult() {
                const scores = {
                    E: 0, I: 0,
                    S: 0, N: 0,
                    T: 0, F: 0,
                    J: 0, P: 0
                };
                
                // ç»Ÿè®¡å¾—åˆ†
                answers.forEach(dimension => {
                    scores[dimension]++;
                });
                
                // ç¡®å®šæ¯ä¸ªç»´åº¦çš„å€¾å‘
                const eOrI = scores.E > scores.I ? 'E' : 'I';
                const sOrN = scores.S > scores.N ? 'S' : 'N';
                const tOrF = scores.T > scores.F ? 'T' : 'F';
                const jOrP = scores.J > scores.P ? 'J' : 'P';
                
                return eOrI + sOrN + tOrF + jOrP;
            }
            
            // æ˜¾ç¤ºç»“æœ
            function showResult() {
                const mbtiType = calculateResult();
                const typeInfo = mbtiTypes[mbtiType];
                
                if (typeInfo) {
                    elements.resultType.textContent = mbtiType;
                    elements.resultType.style.color = typeInfo.color;
                    elements.resultName.textContent = typeInfo.name;
                    elements.resultDescription.textContent = typeInfo.description;
                    elements.resultImage.textContent = typeInfo.emoji;
                }
                
                // æ·»åŠ æ»‘å…¥åŠ¨ç”»
                elements.questionContainer.style.display = 'none';
                elements.progressContainer.style.display = 'none';
                elements.resultContainer.style.display = 'block';
                elements.resultContainer.style.opacity = '0';
                elements.resultContainer.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    elements.resultContainer.style.opacity = '1';
                    elements.resultContainer.style.transform = 'translateY(0)';
                }, 100);
                
                // å‘é€æµ‹è¯•ç»“æœåˆ°åç«¯
                saveTestResult(userName, mbtiType);
            }
            
            // APIé…ç½® - ä¼˜å…ˆä½¿ç”¨config.jsä¸­çš„é…ç½®ï¼Œå¦åˆ™ä½¿ç”¨å½“å‰åŸŸå
            const API_BASE_URL = window.API_BASE_URL || window.location.origin;
            
            // ä¿å­˜æµ‹è¯•ç»“æœåˆ°åç«¯
            async function saveTestResult(name, mbtiType) {
                try {
                    const response = await fetch(`${API_BASE_URL}/api/test-results`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            name: name,
                            mbtiType: mbtiType,
                            timestamp: new Date().toISOString()
                        })
                    });
                    
                    if (!response.ok) {
                        console.error('ä¿å­˜æµ‹è¯•ç»“æœå¤±è´¥');
                    }
                } catch (error) {
                    console.error('ä¿å­˜æµ‹è¯•ç»“æœæ—¶å‡ºé”™:', error);
                }
            }
            
            // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initApp);
            } else {
                initApp();
            }
        })();
    </script>
</body>
</html>